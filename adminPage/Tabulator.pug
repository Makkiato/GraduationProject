doctype html
head
    meta(charset='UTF-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    meta(http-equiv='X-UA-Compatible' content='ie=edge')
    title
        | Welcome to fiware project
    link(href="https://unpkg.com/tabulator-tables@4.7.2/dist/css/tabulator.min.css" rel="stylesheet")
    script(type='text/javascript' src='https://unpkg.com/tabulator-tables@4.7.2/dist/js/tabulator.js')


div(id= "table")

script.
    var parsed = JSON.parse('#{data}'.split('&quot;').join('"'));
    var table = new Tabulator("#table",{
        responsiveLayout : "hide",
        data : parsed,
        layout : 'fitColumns',
        columns :[
            {title : "ID", field : "id"},
            {title : "Type", field: "deviceType"},
            {title : "State", field: "state"},
            {title : "Work", field: "work", editor:"select",editorParams:{values : true}}
        ],
        rowClick:function(e, row){ //trigger an alert message when the row is clicked
 		alert("Row " + row.getData().id + " Clicked!!!!");
 	}
    })